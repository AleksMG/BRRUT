<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher Analyzer</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Vigenère Cipher Analysis Tool</h1>
        <nav>
            <ul>
                <li><a href="#encrypt-section">Encrypt</a></li>
                <li><a href="#decrypt-section">Decrypt</a></li>
                <li><a href="#crack-section">Crack</a></li>
                <li><a href="#settings-section">Settings</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="alphabet-section" class="card">
            <h2>Custom Alphabet</h2>
            <div class="form-group">
                <label for="custom-alphabet">Alphabet:</label>
                <input type="text" id="custom-alphabet" value="ABCDEFGHIJKLMNOPQRSTUVWXYZ" placeholder="Enter custom alphabet">
                <button id="reset-alphabet" class="btn-secondary">Reset</button>
            </div>
            <div class="info">
                <p>Note: The alphabet must contain unique characters. Case sensitivity is preserved.</p>
            </div>
        </section>

        <section id="encrypt-section" class="card">
            <h2>Encrypt Text</h2>
            <div class="form-group">
                <label for="plaintext">Plaintext:</label>
                <textarea id="plaintext" rows="5" placeholder="Enter text to encrypt"></textarea>
            </div>
            <div class="form-group">
                <label for="encrypt-key">Key:</label>
                <input type="text" id="encrypt-key" placeholder="Enter encryption key">
            </div>
            <button id="encrypt-btn" class="btn-primary">Encrypt</button>
            <div class="form-group">
                <label for="ciphertext-output">Ciphertext:</label>
                <textarea id="ciphertext-output" rows="5" readonly></textarea>
            </div>
        </section>

        <section id="decrypt-section" class="card">
            <h2>Decrypt Text</h2>
            <div class="form-group">
                <label for="ciphertext">Ciphertext:</label>
                <textarea id="ciphertext" rows="5" placeholder="Enter text to decrypt"></textarea>
            </div>
            <div class="form-group">
                <label for="decrypt-key">Key:</label>
                <input type="text" id="decrypt-key" placeholder="Enter decryption key">
            </div>
            <button id="decrypt-btn" class="btn-primary">Decrypt</button>
            <div class="form-group">
                <label for="plaintext-output">Plaintext:</label>
                <textarea id="plaintext-output" rows="5" readonly></textarea>
            </div>
        </section>

        <section id="crack-section" class="card">
            <h2>Crack Cipher</h2>
            <div class="form-group">
                <label for="ciphertext-to-crack">Ciphertext:</label>
                <textarea id="ciphertext-to-crack" rows="5" placeholder="Enter ciphertext to crack"></textarea>
            </div>
            
            <div class="form-group">
                <label for="known-plaintext">Known Plaintext (optional):</label>
                <input type="text" id="known-plaintext" placeholder="Known part of plaintext">
            </div>
            
            <div class="settings-row">
                <div class="form-group">
                    <label for="key-length">Max Key Length:</label>
                    <input type="range" id="key-length" min="1" max="30" value="10">
                    <span id="key-length-value">10</span>
                </div>
                
                <div class="form-group">
                    <label for="workers-count">Workers:</label>
                    <input type="range" id="workers-count" min="1" max="8" value="4">
                    <span id="workers-count-value">4</span>
                </div>
                
                <div class="form-group">
                    <label for="batch-size">Batch Size:</label>
                    <input type="range" id="batch-size" min="100" max="10000" step="100" value="1000">
                    <span id="batch-size-value">1000</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="crack-method">Method:</label>
                <select id="crack-method">
                    <option value="frequency">Frequency Analysis</option>
                    <option value="known-plaintext">Known Plaintext</option>
                    <option value="combined">Combined Approach</option>
                    <option value="bruteforce">Brute Force</option>
                    <option value="random">Random Sampling</option>
                </select>
            </div>
            
            <button id="crack-btn" class="btn-primary">Start Cracking</button>
            <button id="stop-btn" class="btn-danger" disabled>Stop</button>
            
            <div id="progress-section">
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div id="progress-stats">
                    <p>Status: <span id="status">Ready</span></p>
                    <p>Workers active: <span id="active-workers">0</span>/<span id="total-workers">0</span></p>
                    <p>Keys tested: <span id="keys-tested">0</span></p>
                    <p>Speed: <span id="keys-per-second">0</span> keys/sec</p>
                    <p>Estimated time remaining: <span id="time-remaining">-</span></p>
                </div>
            </div>
            
            <div id="results-section">
                <h3>Top Results</h3>
                <div id="results-container"></div>
            </div>
        </section>

        <section id="settings-section" class="card">
            <h2>Advanced Settings</h2>
            <div class="form-group">
                <label for="scoring-method">Scoring Method:</label>
                <select id="scoring-method">
                    <option value="quadgrams">Quadgram Analysis</option>
                    <option value="trigrams">Trigram Analysis</option>
                    <option value="ic">Index of Coincidence</option>
                    <option value="chi2">Chi-squared</option>
                </select>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="case-sensitive" checked>
                    Case Sensitive
                </label>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="preserve-spaces" checked>
                    Preserve Spaces
                </label>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="preserve-punctuation" checked>
                    Preserve Punctuation
                </label>
            </div>
            <button id="reset-settings" class="btn-secondary">Reset to Defaults</button>
        </section>
    </main>

    <footer>
        <p>Vigenère Cipher Analysis Tool &copy; 2023</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
