<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher Analyzer</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">Vigenère Analyzer</h1>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="#analysis" class="nav-link">Analysis</a></li>
                    <li><a href="#decryption" class="nav-link">Decryption</a></li>
                    <li><a href="#customization" class="nav-link">Customization</a></li>
                    <li><a href="#results" class="nav-link">Results</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main">
        <section id="input-section" class="section">
            <div class="container">
                <div class="input-group">
                    <label for="plaintext">Plaintext (for encryption):</label>
                    <textarea id="plaintext" rows="4" placeholder="Enter text to encrypt..."></textarea>
                </div>
                <div class="input-group">
                    <label for="ciphertext">Ciphertext (for decryption):</label>
                    <textarea id="ciphertext" rows="4" placeholder="Enter text to decrypt..."></textarea>
                </div>
                <div class="input-group">
                    <label for="key">Key (leave empty for brute force):</label>
                    <input type="text" id="key" placeholder="Enter encryption key...">
                </div>
                <div class="button-group">
                    <button id="encrypt-btn" class="btn btn-green">Encrypt</button>
                    <button id="decrypt-btn" class="btn btn-red">Decrypt with Key</button>
                    <button id="brute-btn" class="btn btn-red">Brute Force</button>
                    <button id="clear-btn" class="btn btn-blue">Clear All</button>
                </div>
            </div>
        </section>

        <section id="customization" class="section">
            <div class="container">
                <h2>Customization</h2>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label for="alphabet">Custom Alphabet:</label>
                        <input type="text" id="alphabet" value="ABCDEFGHIJKLMNOPQRSTUVWXYZ">
                    </div>
                    <div class="setting-group">
                        <label for="known-fragment">Known Plaintext Fragment:</label>
                        <input type="text" id="known-fragment" placeholder="e.g., 'THE'">
                    </div>
                    <div class="setting-group">
                        <label for="key-length">Max Key Length:</label>
                        <input type="range" id="key-length" min="1" max="20" value="10">
                        <span id="key-length-value">10</span>
                    </div>
                    <div class="setting-group">
                        <label for="workers">Number of Workers:</label>
                        <input type="range" id="workers" min="1" max="8" value="4">
                        <span id="workers-value">4</span>
                    </div>
                    <div class="setting-group">
                        <label for="batch-size">Key Batch Size:</label>
                        <input type="range" id="batch-size" min="100" max="10000" step="100" value="1000">
                        <span id="batch-size-value">1000</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="progress-section" class="section" style="display: none;">
            <div class="container">
                <h2>Decryption Progress</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-stats">
                        <div id="progress-percent">0%</div>
                        <div id="workers-active">Active Workers: 0</div>
                        <div id="keys-tested">Keys Tested: 0</div>
                        <div id="keys-per-second">Speed: 0 keys/s</div>
                        <div id="time-remaining">Time Remaining: Calculating...</div>
                    </div>
                </div>
                <button id="cancel-btn" class="btn btn-red">Cancel Operation</button>
            </div>
        </section>

        <section id="results" class="section">
            <div class="container">
                <h2>Results</h2>
                <div class="results-container">
                    <div class="result-tabs">
                        <button class="result-tab active" data-tab="decrypted">Decrypted Text</button>
                        <button class="result-tab" data-tab="analysis">Analysis</button>
                        <button class="result-tab" data-tab="top-keys">Top Keys</button>
                    </div>
                    <div class="result-content">
                        <div id="decrypted" class="result-pane active">
                            <textarea id="result-text" readonly rows="8"></textarea>
                        </div>
                        <div id="analysis" class="result-pane">
                            <div id="analysis-results"></div>
                        </div>
                        <div id="top-keys" class="result-pane">
                            <table id="keys-table">
                                <thead>
                                    <tr>
                                        <th>Rank</th>
                                        <th>Key</th>
                                        <th>Score</th>
                                        <th>Decrypted Fragment</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>Vigenère Cipher Analysis Tool &copy; 2023</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
